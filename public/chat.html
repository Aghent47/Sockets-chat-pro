<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Chat</title>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <!-- Page CSS -->
    <link href="css/pages/chat-app-page.css" rel="stylesheet" />
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/chat.css" rel="stylesheet" />
    <link href="css/animate.css" rel="stylesheet" />
    <!-- Modern Chat CSS -->
    <link href="css/modern-chat.css" rel="stylesheet" />

    <!-- You can change the theme colors from here -->
    <link href="css/colors/default-dark.css" id="theme" rel="stylesheet" />
  </head>

  <body class="fix-header single-column card-no-border fix-sidebar">
    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle">
      <button id="darkModeToggle" class="toggle-btn">
        <i class="fa fa-moon-o"></i>
      </button>
    </div>
    
    <!-- Geometric Background -->
    <div class="geometric-bg">
      <div class="geometric-shape shape-1"></div>
      <div class="geometric-shape shape-2"></div>
      <div class="geometric-shape shape-3"></div>
      <div class="geometric-shape shape-4"></div>
    </div>
    
    <!-- ============================================================== -->
    <!-- Main wrapper -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
      <!-- ============================================================== -->
      <!-- Page wrapper  -->
      <!-- ============================================================== -->
      <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
          <!-- ============================================================== -->
          <!-- Start Page Content -->
          <!-- ============================================================== -->
          <div class="row animated fadeIn">
            <div class="col-12">
              <div class="modern-chat-card">
                <!-- .chat-row -->
                <div class="chat-main-box">
                  <!-- .chat-left-panel -->
                  <div class="chat-left-aside modern-sidebar">
                    <div class="open-panel"><i class="ti-angle-right"></i></div>
                    <div class="chat-left-inner">
                      <div class="modern-search-container">
                        <div class="search-input-wrapper">
                          <i class="fa fa-search search-icon"></i>
                          <input
                            class="modern-search-input"
                            type="text"
                            placeholder="Buscar Contacto"
                          />
                        </div>
                      </div>
                      <div class="users-header">
                        <h4>Usuarios Conectados</h4>
                        <span class="user-count" id="userCount">0</span>
                      </div>
                      <ul class="chatonline modern-user-list" id="divUsuarios"></ul>
                    </div>
                  </div>
                  <!-- .chat-left-panel -->
                  <!-- .chat-right-panel -->
                  <div class="chat-right-aside">
                    <div class="chat-main-header modern-header">
                      <div class="header-content">
                        <div class="room-info">
                          <h3 class="room-title">
                            <i class="fa fa-hashtag"></i>
                            <span id="roomName">Sala de chat</span>
                          </h3>
                          <p class="room-description">Video Juegos</p>
                        </div>
                        <div class="header-actions">
                          <button class="action-btn" title="Configuraci√≥n">
                            <i class="fa fa-cog"></i>
                          </button>
                          <button class="action-btn" title="M√°s opciones">
                            <i class="fa fa-ellipsis-v"></i>
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="chat-rbox">
                      <ul class="chat-list p-20" id="divChatbox">
                        <!--chat Row -->
                        <!-- <li>
                          <div class="chat-img">
                            <img src="assets/images/users/1.jpg" alt="user" />
                          </div>
                          <div class="chat-content">
                            <h5>James Anderson</h5>
                            <div class="box bg-light-info">
                              Lorem Ipsum is simply dummy text of the printing &
                              type setting industry.
                            </div>
                          </div>
                          <div class="chat-time">10:56 am</div>
                        </li> -->
                       
                        <!--chat Row -->
                        <!-- <li class="reverse">
                          <div class="chat-content">
                            <h5>Steave Doe</h5>
                            <div class="box bg-light-inverse">
                              It‚Äôs Great opportunity to work.
                            </div>
                          </div>
                          <div class="chat-img">
                            <img src="assets/images/users/5.jpg" alt="user" />
                          </div>
                          <div class="chat-time">10:57 am</div>
                        </li> -->
                        <!--chat Row -->
                      
                      </ul>
                    </div>
                    <div class="modern-input-area">
                      <form id="formEnviar" class="modern-message-form">
                        <div class="message-input-container">
                          <div class="input-wrapper">
                            <input
                              autocomplete="off"
                              id="txtMensaje"
                              placeholder="Escribe tu mensaje aqu√≠..."
                              class="modern-message-input"
                              autofocus
                            />
                            <div class="input-actions">
                              <input type="file" id="fileInput" style="display: none;" multiple accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.txt">
                              <button type="button" class="input-action-btn" id="fileBtn" title="Adjuntar archivo">
                                <i class="fa fa-paperclip"></i>
                              </button>
                              <button type="button" class="input-action-btn" id="emojiBtn" title="Emoji">
                                <i class="fa fa-smile-o"></i>
                              </button>
                            </div>
                          </div>
                          <button type="submit" class="modern-send-btn">
                            <i class="fa fa-paper-plane"></i>
                            <div class="send-ripple"></div>
                          </button>
                        </div>
                      </form>
                      
                      <!-- Emoji Picker -->
                      <div class="emoji-picker" id="emojiPicker" style="display: none;">
                        <div class="emoji-header">
                          <span>Selecciona un emoji</span>
                          <button type="button" class="emoji-close" id="emojiClose">
                            <i class="fa fa-times"></i>
                          </button>
                        </div>
                        <div class="emoji-grid">
                          <button type="button" class="emoji-item" data-emoji="üòÄ">üòÄ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÉ">üòÉ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÑ">üòÑ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÅ">üòÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÜ">üòÜ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÖ">üòÖ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÇ">üòÇ</button>
                          <button type="button" class="emoji-item" data-emoji="ü§£">ü§£</button>
                          <button type="button" class="emoji-item" data-emoji="üòä">üòä</button>
                          <button type="button" class="emoji-item" data-emoji="üòá">üòá</button>
                          <button type="button" class="emoji-item" data-emoji="üôÇ">üôÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üôÉ">üôÉ</button>
                          <button type="button" class="emoji-item" data-emoji="üòâ">üòâ</button>
                          <button type="button" class="emoji-item" data-emoji="üòå">üòå</button>
                          <button type="button" class="emoji-item" data-emoji="üòç">üòç</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∞">ü•∞</button>
                          <button type="button" class="emoji-item" data-emoji="üòò">üòò</button>
                          <button type="button" class="emoji-item" data-emoji="üòó">üòó</button>
                          <button type="button" class="emoji-item" data-emoji="üòô">üòô</button>
                          <button type="button" class="emoji-item" data-emoji="üòö">üòö</button>
                          <button type="button" class="emoji-item" data-emoji="üòã">üòã</button>
                          <button type="button" class="emoji-item" data-emoji="üòõ">üòõ</button>
                          <button type="button" class="emoji-item" data-emoji="üòù">üòù</button>
                          <button type="button" class="emoji-item" data-emoji="üòú">üòú</button>
                          <button type="button" class="emoji-item" data-emoji="ü§™">ü§™</button>
                          <button type="button" class="emoji-item" data-emoji="ü§®">ü§®</button>
                          <button type="button" class="emoji-item" data-emoji="üßê">üßê</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ì">ü§ì</button>
                          <button type="button" class="emoji-item" data-emoji="üòé">üòé</button>
                          <button type="button" class="emoji-item" data-emoji="ü§©">ü§©</button>
                          <button type="button" class="emoji-item" data-emoji="ü•≥">ü•≥</button>
                          <button type="button" class="emoji-item" data-emoji="üòè">üòè</button>
                          <button type="button" class="emoji-item" data-emoji="üòí">üòí</button>
                          <button type="button" class="emoji-item" data-emoji="üòû">üòû</button>
                          <button type="button" class="emoji-item" data-emoji="üòî">üòî</button>
                          <button type="button" class="emoji-item" data-emoji="üòü">üòü</button>
                          <button type="button" class="emoji-item" data-emoji="üòï">üòï</button>
                          <button type="button" class="emoji-item" data-emoji="üôÅ">üôÅ</button>
                          <button type="button" class="emoji-item" data-emoji="‚òπÔ∏è">‚òπÔ∏è</button>
                          <button type="button" class="emoji-item" data-emoji="üò£">üò£</button>
                          <button type="button" class="emoji-item" data-emoji="üòñ">üòñ</button>
                          <button type="button" class="emoji-item" data-emoji="üò´">üò´</button>
                          <button type="button" class="emoji-item" data-emoji="üò©">üò©</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∫">ü•∫</button>
                          <button type="button" class="emoji-item" data-emoji="üò¢">üò¢</button>
                          <button type="button" class="emoji-item" data-emoji="üò≠">üò≠</button>
                          <button type="button" class="emoji-item" data-emoji="üò§">üò§</button>
                          <button type="button" class="emoji-item" data-emoji="üò†">üò†</button>
                          <button type="button" class="emoji-item" data-emoji="üò°">üò°</button>
                          <button type="button" class="emoji-item" data-emoji="ü§¨">ü§¨</button>
                          <button type="button" class="emoji-item" data-emoji="ü§Ø">ü§Ø</button>
                          <button type="button" class="emoji-item" data-emoji="üò≥">üò≥</button>
                          <button type="button" class="emoji-item" data-emoji="ü•µ">ü•µ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∂">ü•∂</button>
                          <button type="button" class="emoji-item" data-emoji="üò±">üò±</button>
                          <button type="button" class="emoji-item" data-emoji="üò®">üò®</button>
                          <button type="button" class="emoji-item" data-emoji="üò∞">üò∞</button>
                          <button type="button" class="emoji-item" data-emoji="üò•">üò•</button>
                          <button type="button" class="emoji-item" data-emoji="üòì">üòì</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ó">ü§ó</button>
                          <button type="button" class="emoji-item" data-emoji="ü§î">ü§î</button>
                          <button type="button" class="emoji-item" data-emoji="ü§≠">ü§≠</button>
                          <button type="button" class="emoji-item" data-emoji="ü§´">ü§´</button>
                          <button type="button" class="emoji-item" data-emoji="ü§•">ü§•</button>
                          <button type="button" class="emoji-item" data-emoji="üò∂">üò∂</button>
                          <button type="button" class="emoji-item" data-emoji="üòê">üòê</button>
                          <button type="button" class="emoji-item" data-emoji="üòë">üòë</button>
                          <button type="button" class="emoji-item" data-emoji="üò¨">üò¨</button>
                          <button type="button" class="emoji-item" data-emoji="üôÑ">üôÑ</button>
                          <button type="button" class="emoji-item" data-emoji="üòØ">üòØ</button>
                          <button type="button" class="emoji-item" data-emoji="üò¶">üò¶</button>
                          <button type="button" class="emoji-item" data-emoji="üòß">üòß</button>
                          <button type="button" class="emoji-item" data-emoji="üòÆ">üòÆ</button>
                          <button type="button" class="emoji-item" data-emoji="üò≤">üò≤</button>
                          <button type="button" class="emoji-item" data-emoji="ü•±">ü•±</button>
                          <button type="button" class="emoji-item" data-emoji="üò¥">üò¥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§§">ü§§</button>
                          <button type="button" class="emoji-item" data-emoji="üò™">üò™</button>
                          <button type="button" class="emoji-item" data-emoji="üòµ">üòµ</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ê">ü§ê</button>
                          <button type="button" class="emoji-item" data-emoji="ü•¥">ü•¥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§¢">ü§¢</button>
                          <button type="button" class="emoji-item" data-emoji="ü§Æ">ü§Æ</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ß">ü§ß</button>
                          <button type="button" class="emoji-item" data-emoji="ü•≥">ü•≥</button>
                          <button type="button" class="emoji-item" data-emoji="üéâ">üéâ</button>
                          <button type="button" class="emoji-item" data-emoji="üéä">üéä</button>
                          <button type="button" class="emoji-item" data-emoji="üéà">üéà</button>
                          <button type="button" class="emoji-item" data-emoji="üéÅ">üéÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üéÇ">üéÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üç∞">üç∞</button>
                          <button type="button" class="emoji-item" data-emoji="üçï">üçï</button>
                          <button type="button" class="emoji-item" data-emoji="üçî">üçî</button>
                          <button type="button" class="emoji-item" data-emoji="üçü">üçü</button>
                          <button type="button" class="emoji-item" data-emoji="üå≠">üå≠</button>
                          <button type="button" class="emoji-item" data-emoji="ü•™">ü•™</button>
                          <button type="button" class="emoji-item" data-emoji="üåÆ">üåÆ</button>
                          <button type="button" class="emoji-item" data-emoji="üåØ">üåØ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ô">ü•ô</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ò">ü•ò</button>
                          <button type="button" class="emoji-item" data-emoji="üçù">üçù</button>
                          <button type="button" class="emoji-item" data-emoji="üçú">üçú</button>
                          <button type="button" class="emoji-item" data-emoji="üç≤">üç≤</button>
                          <button type="button" class="emoji-item" data-emoji="üçõ">üçõ</button>
                          <button type="button" class="emoji-item" data-emoji="üç£">üç£</button>
                          <button type="button" class="emoji-item" data-emoji="üç±">üç±</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ü">ü•ü</button>
                          <button type="button" class="emoji-item" data-emoji="ü•†">ü•†</button>
                          <button type="button" class="emoji-item" data-emoji="ü•°">ü•°</button>
                          <button type="button" class="emoji-item" data-emoji="üçô">üçô</button>
                          <button type="button" class="emoji-item" data-emoji="üçö">üçö</button>
                          <button type="button" class="emoji-item" data-emoji="üçò">üçò</button>
                          <button type="button" class="emoji-item" data-emoji="üç•">üç•</button>
                          <button type="button" class="emoji-item" data-emoji="ü•Æ">ü•Æ</button>
                          <button type="button" class="emoji-item" data-emoji="üç¢">üç¢</button>
                          <button type="button" class="emoji-item" data-emoji="üç°">üç°</button>
                          <button type="button" class="emoji-item" data-emoji="üçß">üçß</button>
                          <button type="button" class="emoji-item" data-emoji="üç®">üç®</button>
                          <button type="button" class="emoji-item" data-emoji="üç¶">üç¶</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ß">ü•ß</button>
                          <button type="button" class="emoji-item" data-emoji="üßÅ">üßÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üç∞">üç∞</button>
                          <button type="button" class="emoji-item" data-emoji="üéÇ">üéÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üçÆ">üçÆ</button>
                          <button type="button" class="emoji-item" data-emoji="üç≠">üç≠</button>
                          <button type="button" class="emoji-item" data-emoji="üç¨">üç¨</button>
                          <button type="button" class="emoji-item" data-emoji="üç´">üç´</button>
                          <button type="button" class="emoji-item" data-emoji="üçø">üçø</button>
                          <button type="button" class="emoji-item" data-emoji="üç©">üç©</button>
                          <button type="button" class="emoji-item" data-emoji="üç™">üç™</button>
                          <button type="button" class="emoji-item" data-emoji="üå∞">üå∞</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ú">ü•ú</button>
                          <button type="button" class="emoji-item" data-emoji="üçØ">üçØ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•õ">ü•õ</button>
                          <button type="button" class="emoji-item" data-emoji="üçº">üçº</button>
                          <button type="button" class="emoji-item" data-emoji="‚òï">‚òï</button>
                          <button type="button" class="emoji-item" data-emoji="üçµ">üçµ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•§">ü•§</button>
                          <button type="button" class="emoji-item" data-emoji="üßÉ">üßÉ</button>
                          <button type="button" class="emoji-item" data-emoji="üßâ">üßâ</button>
                          <button type="button" class="emoji-item" data-emoji="üßä">üßä</button>
                          <button type="button" class="emoji-item" data-emoji="ü•É">ü•É</button>
                          <button type="button" class="emoji-item" data-emoji="üç∑">üç∑</button>
                          <button type="button" class="emoji-item" data-emoji="üç∏">üç∏</button>
                          <button type="button" class="emoji-item" data-emoji="üçπ">üçπ</button>
                          <button type="button" class="emoji-item" data-emoji="üç∫">üç∫</button>
                          <button type="button" class="emoji-item" data-emoji="üçª">üçª</button>
                          <button type="button" class="emoji-item" data-emoji="ü•Ç">ü•Ç</button>
                          <button type="button" class="emoji-item" data-emoji="ü•É">ü•É</button>
                          <button type="button" class="emoji-item" data-emoji="üçæ">üçæ</button>
                          <button type="button" class="emoji-item" data-emoji="üßä">üßä</button>
                          <button type="button" class="emoji-item" data-emoji="üç∂">üç∂</button>
                          <button type="button" class="emoji-item" data-emoji="üçµ">üçµ</button>
                          <button type="button" class="emoji-item" data-emoji="üçº">üçº</button>
                          <button type="button" class="emoji-item" data-emoji="ü•õ">ü•õ</button>
                          <button type="button" class="emoji-item" data-emoji="üçØ">üçØ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ú">ü•ú</button>
                          <button type="button" class="emoji-item" data-emoji="üå∞">üå∞</button>
                          <button type="button" class="emoji-item" data-emoji="üç™">üç™</button>
                          <button type="button" class="emoji-item" data-emoji="üç©">üç©</button>
                          <button type="button" class="emoji-item" data-emoji="üçø">üçø</button>
                          <button type="button" class="emoji-item" data-emoji="üç´">üç´</button>
                          <button type="button" class="emoji-item" data-emoji="üç¨">üç¨</button>
                          <button type="button" class="emoji-item" data-emoji="üç≠">üç≠</button>
                          <button type="button" class="emoji-item" data-emoji="üçÆ">üçÆ</button>
                          <button type="button" class="emoji-item" data-emoji="üéÇ">üéÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üç∞">üç∞</button>
                          <button type="button" class="emoji-item" data-emoji="üßÅ">üßÅ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ß">ü•ß</button>
                          <button type="button" class="emoji-item" data-emoji="üç¶">üç¶</button>
                          <button type="button" class="emoji-item" data-emoji="üç®">üç®</button>
                          <button type="button" class="emoji-item" data-emoji="üçß">üçß</button>
                          <button type="button" class="emoji-item" data-emoji="üç°">üç°</button>
                          <button type="button" class="emoji-item" data-emoji="üç¢">üç¢</button>
                          <button type="button" class="emoji-item" data-emoji="ü•Æ">ü•Æ</button>
                          <button type="button" class="emoji-item" data-emoji="üç•">üç•</button>
                          <button type="button" class="emoji-item" data-emoji="üçò">üçò</button>
                          <button type="button" class="emoji-item" data-emoji="üçö">üçö</button>
                          <button type="button" class="emoji-item" data-emoji="üçô">üçô</button>
                          <button type="button" class="emoji-item" data-emoji="ü•°">ü•°</button>
                          <button type="button" class="emoji-item" data-emoji="ü•†">ü•†</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ü">ü•ü</button>
                          <button type="button" class="emoji-item" data-emoji="üç±">üç±</button>
                          <button type="button" class="emoji-item" data-emoji="üç£">üç£</button>
                          <button type="button" class="emoji-item" data-emoji="üçõ">üçõ</button>
                          <button type="button" class="emoji-item" data-emoji="üç≤">üç≤</button>
                          <button type="button" class="emoji-item" data-emoji="üçú">üçú</button>
                          <button type="button" class="emoji-item" data-emoji="üçù">üçù</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ò">ü•ò</button>
                          <button type="button" class="emoji-item" data-emoji="ü•ô">ü•ô</button>
                          <button type="button" class="emoji-item" data-emoji="üåØ">üåØ</button>
                          <button type="button" class="emoji-item" data-emoji="üåÆ">üåÆ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•™">ü•™</button>
                          <button type="button" class="emoji-item" data-emoji="üå≠">üå≠</button>
                          <button type="button" class="emoji-item" data-emoji="üçü">üçü</button>
                          <button type="button" class="emoji-item" data-emoji="üçî">üçî</button>
                          <button type="button" class="emoji-item" data-emoji="üçï">üçï</button>
                          <button type="button" class="emoji-item" data-emoji="üéÇ">üéÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üéÅ">üéÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üéà">üéà</button>
                          <button type="button" class="emoji-item" data-emoji="üéä">üéä</button>
                          <button type="button" class="emoji-item" data-emoji="üéâ">üéâ</button>
                          <button type="button" class="emoji-item" data-emoji="ü•≥">ü•≥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ß">ü§ß</button>
                          <button type="button" class="emoji-item" data-emoji="ü§Æ">ü§Æ</button>
                          <button type="button" class="emoji-item" data-emoji="ü§¢">ü§¢</button>
                          <button type="button" class="emoji-item" data-emoji="ü•¥">ü•¥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ê">ü§ê</button>
                          <button type="button" class="emoji-item" data-emoji="üòµ">üòµ</button>
                          <button type="button" class="emoji-item" data-emoji="üò™">üò™</button>
                          <button type="button" class="emoji-item" data-emoji="ü§§">ü§§</button>
                          <button type="button" class="emoji-item" data-emoji="üò¥">üò¥</button>
                          <button type="button" class="emoji-item" data-emoji="ü•±">ü•±</button>
                          <button type="button" class="emoji-item" data-emoji="üò≤">üò≤</button>
                          <button type="button" class="emoji-item" data-emoji="üòÆ">üòÆ</button>
                          <button type="button" class="emoji-item" data-emoji="üòß">üòß</button>
                          <button type="button" class="emoji-item" data-emoji="üò¶">üò¶</button>
                          <button type="button" class="emoji-item" data-emoji="üòØ">üòØ</button>
                          <button type="button" class="emoji-item" data-emoji="üôÑ">üôÑ</button>
                          <button type="button" class="emoji-item" data-emoji="üò¨">üò¨</button>
                          <button type="button" class="emoji-item" data-emoji="üòë">üòë</button>
                          <button type="button" class="emoji-item" data-emoji="üòê">üòê</button>
                          <button type="button" class="emoji-item" data-emoji="üò∂">üò∂</button>
                          <button type="button" class="emoji-item" data-emoji="ü§•">ü§•</button>
                          <button type="button" class="emoji-item" data-emoji="ü§´">ü§´</button>
                          <button type="button" class="emoji-item" data-emoji="ü§≠">ü§≠</button>
                          <button type="button" class="emoji-item" data-emoji="ü§î">ü§î</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ó">ü§ó</button>
                          <button type="button" class="emoji-item" data-emoji="üòì">üòì</button>
                          <button type="button" class="emoji-item" data-emoji="üò•">üò•</button>
                          <button type="button" class="emoji-item" data-emoji="üò∞">üò∞</button>
                          <button type="button" class="emoji-item" data-emoji="üò®">üò®</button>
                          <button type="button" class="emoji-item" data-emoji="üò±">üò±</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∂">ü•∂</button>
                          <button type="button" class="emoji-item" data-emoji="ü•µ">ü•µ</button>
                          <button type="button" class="emoji-item" data-emoji="üò≥">üò≥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§Ø">ü§Ø</button>
                          <button type="button" class="emoji-item" data-emoji="ü§¨">ü§¨</button>
                          <button type="button" class="emoji-item" data-emoji="üò°">üò°</button>
                          <button type="button" class="emoji-item" data-emoji="üò†">üò†</button>
                          <button type="button" class="emoji-item" data-emoji="üò§">üò§</button>
                          <button type="button" class="emoji-item" data-emoji="üò≠">üò≠</button>
                          <button type="button" class="emoji-item" data-emoji="üò¢">üò¢</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∫">ü•∫</button>
                          <button type="button" class="emoji-item" data-emoji="üò©">üò©</button>
                          <button type="button" class="emoji-item" data-emoji="üò´">üò´</button>
                          <button type="button" class="emoji-item" data-emoji="üòñ">üòñ</button>
                          <button type="button" class="emoji-item" data-emoji="üò£">üò£</button>
                          <button type="button" class="emoji-item" data-emoji="‚òπÔ∏è">‚òπÔ∏è</button>
                          <button type="button" class="emoji-item" data-emoji="üôÅ">üôÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üòï">üòï</button>
                          <button type="button" class="emoji-item" data-emoji="üòü">üòü</button>
                          <button type="button" class="emoji-item" data-emoji="üòî">üòî</button>
                          <button type="button" class="emoji-item" data-emoji="üòû">üòû</button>
                          <button type="button" class="emoji-item" data-emoji="üòí">üòí</button>
                          <button type="button" class="emoji-item" data-emoji="üòè">üòè</button>
                          <button type="button" class="emoji-item" data-emoji="ü•≥">ü•≥</button>
                          <button type="button" class="emoji-item" data-emoji="ü§©">ü§©</button>
                          <button type="button" class="emoji-item" data-emoji="üòé">üòé</button>
                          <button type="button" class="emoji-item" data-emoji="ü§ì">ü§ì</button>
                          <button type="button" class="emoji-item" data-emoji="üßê">üßê</button>
                          <button type="button" class="emoji-item" data-emoji="ü§®">ü§®</button>
                          <button type="button" class="emoji-item" data-emoji="ü§™">ü§™</button>
                          <button type="button" class="emoji-item" data-emoji="üòú">üòú</button>
                          <button type="button" class="emoji-item" data-emoji="üòù">üòù</button>
                          <button type="button" class="emoji-item" data-emoji="üòõ">üòõ</button>
                          <button type="button" class="emoji-item" data-emoji="üòã">üòã</button>
                          <button type="button" class="emoji-item" data-emoji="üòö">üòö</button>
                          <button type="button" class="emoji-item" data-emoji="üòô">üòô</button>
                          <button type="button" class="emoji-item" data-emoji="üòó">üòó</button>
                          <button type="button" class="emoji-item" data-emoji="üòò">üòò</button>
                          <button type="button" class="emoji-item" data-emoji="ü•∞">ü•∞</button>
                          <button type="button" class="emoji-item" data-emoji="üòç">üòç</button>
                          <button type="button" class="emoji-item" data-emoji="üòå">üòå</button>
                          <button type="button" class="emoji-item" data-emoji="üòâ">üòâ</button>
                          <button type="button" class="emoji-item" data-emoji="üôÉ">üôÉ</button>
                          <button type="button" class="emoji-item" data-emoji="üôÇ">üôÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üòá">üòá</button>
                          <button type="button" class="emoji-item" data-emoji="üòä">üòä</button>
                          <button type="button" class="emoji-item" data-emoji="ü§£">ü§£</button>
                          <button type="button" class="emoji-item" data-emoji="üòÇ">üòÇ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÖ">üòÖ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÜ">üòÜ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÅ">üòÅ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÑ">üòÑ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÉ">üòÉ</button>
                          <button type="button" class="emoji-item" data-emoji="üòÄ">üòÄ</button>
                        </div>
                      </div>
                      
                      <!-- File Preview -->
                      <div class="file-preview" id="filePreview" style="display: none;">
                        <div class="file-preview-header">
                          <span>Archivos seleccionados</span>
                          <button type="button" class="file-close" id="fileClose">
                            <i class="fa fa-times"></i>
                          </button>
                        </div>
                        <div class="file-list" id="fileList"></div>
                      </div>
                    </div>
                  </div>
                  <!-- .chat-right-panel -->
                </div>
                <!-- /.chat-row -->
              </div>
            </div>
          </div>
          <!-- ============================================================== -->
          <!-- End PAge Content -->
          <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
        <footer class="footer">Super Chat - Fernando Herrera</footer>
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
      </div>
      <!-- ============================================================== -->
      <!-- End Page wrapper  -->
      <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->

    <script src="js/libs/jquery.min.js"></script>
    <script src="socket.io/socket.io.js"></script>

    <script src="js/socket-chat-jquery.js"></script>
    <script src="js/socket-chat.js"></script>
    
    <!-- Modern Chat JavaScript -->
    <script>
      $(document).ready(function() {
        // Dark Mode Toggle
        const darkModeToggle = $('#darkModeToggle');
        const body = $('body');
        
        // Check for saved theme preference or default to light mode
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
          body.addClass('dark-mode');
          darkModeToggle.find('i').removeClass('fa-moon-o').addClass('fa-sun-o');
        }
        
        darkModeToggle.on('click', function() {
          body.toggleClass('dark-mode');
          const isDark = body.hasClass('dark-mode');
          
          if (isDark) {
            localStorage.setItem('theme', 'dark');
            darkModeToggle.find('i').removeClass('fa-moon-o').addClass('fa-sun-o');
          } else {
            localStorage.setItem('theme', 'light');
            darkModeToggle.find('i').removeClass('fa-sun-o').addClass('fa-moon-o');
          }
        });
        
        // Send button ripple effect
        $('.modern-send-btn').on('click', function(e) {
          const button = $(this);
          const ripple = button.find('.send-ripple');
          
          const rect = button[0].getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.css({
            width: size + 'px',
            height: size + 'px',
            left: x + 'px',
            top: y + 'px'
          }).addClass('ripple-animate');
          
          setTimeout(() => {
            ripple.removeClass('ripple-animate');
          }, 600);
        });
        
        // Update room name from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const roomName = urlParams.get('sala') || 'Sala de chat';
        $('#roomName').text(roomName);
        
        // Emoji picker functionality
        const emojiBtn = $('#emojiBtn');
        const emojiPicker = $('#emojiPicker');
        const emojiClose = $('#emojiClose');
        const emojiItems = $('.emoji-item');
        const messageInput = $('#txtMensaje');
        
        emojiBtn.on('click', function() {
          emojiPicker.toggle();
          if (emojiPicker.is(':visible')) {
            emojiPicker.css('display', 'block');
          }
        });
        
        emojiClose.on('click', function() {
          emojiPicker.hide();
        });
        
        emojiItems.on('click', function() {
          const emoji = $(this).data('emoji');
          const currentValue = messageInput.val();
          messageInput.val(currentValue + emoji);
          messageInput.focus();
          emojiPicker.hide();
        });
        
        // File upload functionality
        const fileBtn = $('#fileBtn');
        const fileInput = $('#fileInput');
        const filePreview = $('#filePreview');
        const fileClose = $('#fileClose');
        const fileList = $('#fileList');
        
        fileBtn.on('click', function() {
          fileInput.click();
        });
        
        fileInput.on('change', function() {
          const files = this.files;
          if (files.length > 0) {
            showFilePreview(files);
          }
        });
        
        fileClose.on('click', function() {
          filePreview.hide();
          fileInput.val('');
          fileList.empty();
        });
        
        function showFilePreview(files) {
          fileList.empty();
          filePreview.show();
          
          Array.from(files).forEach((file, index) => {
            const fileItem = $(`
              <div class="file-item" data-index="${index}">
                <div class="file-icon">
                  <i class="fa ${getFileIcon(file.type)}"></i>
                </div>
                <div class="file-info">
                  <div class="file-name">${file.name}</div>
                  <div class="file-size">${formatFileSize(file.size)}</div>
                </div>
                <button type="button" class="file-remove" data-index="${index}">
                  <i class="fa fa-times"></i>
                </button>
              </div>
            `);
            fileList.append(fileItem);
          });
          
          // Remove file functionality
          $('.file-remove').on('click', function() {
            const index = $(this).data('index');
            $(this).closest('.file-item').remove();
            
            // Update file input
            const dt = new DataTransfer();
            const remainingFiles = Array.from(fileInput[0].files).filter((_, i) => i !== index);
            remainingFiles.forEach(file => dt.items.add(file));
            fileInput[0].files = dt.files;
            
            if (remainingFiles.length === 0) {
              filePreview.hide();
            }
          });
        }
        
        function getFileIcon(type) {
          if (type.startsWith('image/')) return 'fa-image';
          if (type.startsWith('video/')) return 'fa-video-camera';
          if (type.startsWith('audio/')) return 'fa-music';
          if (type.includes('pdf')) return 'fa-file-pdf-o';
          if (type.includes('word') || type.includes('document')) return 'fa-file-word-o';
          if (type.includes('text')) return 'fa-file-text-o';
          return 'fa-file-o';
        }
        
        function formatFileSize(bytes) {
          if (bytes === 0) return '0 Bytes';
          const k = 1024;
          const sizes = ['Bytes', 'KB', 'MB', 'GB'];
          const i = Math.floor(Math.log(bytes) / Math.log(k));
          return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Close emoji picker when clicking outside
        $(document).on('click', function(e) {
          if (!$(e.target).closest('.emoji-picker, #emojiBtn').length) {
            emojiPicker.hide();
          }
        });
      });
    </script>
  </body>
</html>
